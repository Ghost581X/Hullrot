 #POINT DEFENSE

- type: entity
  parent: BaseStructure
  id: BaseWeaponTurretPDT
  name: SHI MG-213 light dual machinegun 20x135mm
  abstract: true
  components:
    - type: PointCannon
    - type: Clickable
    - type: InteractionOutline
    - type: Actions
    - type: Fixtures
      fixtures:
        fix1:
          shape:
            !type:PhysShapeAabb
            bounds: "-0.45,-0.45,0.45,0.45"
          density: 60
          mask:
            - MachineMask
          layer:
            - MachineLayer
    - type: ContainerContainer
      containers:
        ballistic-ammo: !type:Container
    - type: MobState
    - type: Sprite
      sprite: _Crescent/Objects/Autoturrets/lightautoturret.rsi
      drawdepth: Mobs
      layers:
        - state: syndie_lethal
    - type: WorldLoader
      radius: 256
    - type: CombatMode
      toggleMouseRotator: false
    - type: Damageable
      damageContainer: Inorganic
    - type: Destructible
      thresholds:
        - trigger:
            !type:DamageTrigger
            damage: 800
          behaviors:
            - !type:DoActsBehavior
              acts: [ "Destruction" ]
        - trigger:
            !type:DamageTrigger
            damage: 500
          # TODO: Construction graph
          behaviors:
            - !type:DoActsBehavior
              acts: [ "Destruction" ]
            - !type:PlaySoundBehavior
              sound:
                collection: MetalGlassBreak
            - !type:SpawnEntitiesBehavior
              spawn:
                SheetSteel1:
                  min: 3
                  max: 5
    - type: TurretIFF
    - type: Gun
      projectileSpeed: 145
      fireRate: 5
      selectedMode: FullAuto
      availableModes:
        - FullAuto
      soundGunshot: /Audio/Weapons/Guns/Gunshots/gun_sentry.ogg
    # TODO: Power ammo provider?
    - type: BasicEntityAmmoProvider
      proto: PDTBullet
      capacity: 300
      count: 300
    - type: RechargeBasicEntityAmmo
      rechargeCooldown: 5
      rechargeSound:
        path: /Audio/Weapons/Guns/Bolt/lmg_bolt_closed.ogg
        params:
          pitch: 1.2
          variation: 0.08
    - type: SignalControl
      isOnByDefault: true
    - type: DeviceNetwork
      deviceNetId: Wireless
      receiveFrequencyId: BasicDevice
    - type: WirelessNetworkConnection
      range: 2500
    - type: DeviceLinkSink
      ports:
        - Toggle
        - On
        - Off
    - type: ApcPowerReceiver
      powerLoad: 1000
    - type: ExtensionCableReceiver
    - type: LightningTarget
      priority: 1
    - type: MouseRotator
      angleTolerance: 5
      rotationSpeed: 180
      simple4DirMode: false
    - type: NoRotateOnInteract
    - type: NoRotateOnMove
    - type: Input
      context: "human"
    - type: Anchorable
      delay: 10
    - type: HardpointAnchorableOnly
      class: Ballistic
      size: Small

- type: entity
  parent: BaseWeaponTurretPDT
  name: SHI MG-21 light machinegun 20x135mm
  id: WeaponTurretPDT
  suffix : Tier 1


- type: entity
  parent: BaseWeaponTurretPDT
  name: SHI MG-21 light dual machinegun Mk. II
  id: WeaponTurretPDTNCSP
  suffix: Tier 2
  components:
    - type: Gun
      projectileSpeed: 145
      fireRate: 5.5

# VULCAN AUTOTURRET - WARSHIP

- type: entity
  parent: BaseStructure
  id: BaseWeaponTurretVulcan
  name: vulcan gun
  abstract: true
  components:
    - type: PointCannon
    - type: Clickable
    - type: InteractionOutline
    - type: Actions
    - type: Fixtures
      fixtures:
        fix1:
          shape:
            !type:PhysShapeAabb
            bounds: "-0.45,-0.45,0.45,0.45"
          density: 60
          mask:
            - MachineMask
          layer:
            - MachineLayer
    - type: TurretIFF
    - type: Sprite
      sprite: _Crescent/Objects/Autoturrets/vulcangatling.rsi
      drawdepth: Mobs
      layers:
        - state: syndie_lethal
    - type: WorldLoader
      radius: 256
    - type: CombatMode
      toggleMouseRotator: false
    - type: Damageable
      damageContainer: Inorganic
    - type: Destructible
      thresholds:
        - trigger:
            !type:DamageTrigger
            damage: 800
          behaviors:
            - !type:DoActsBehavior
              acts: [ "Destruction" ]
        - trigger:
            !type:DamageTrigger
            damage: 500
          # TODO: Construction graph
          behaviors:
            - !type:DoActsBehavior
              acts: [ "Destruction" ]
            - !type:PlaySoundBehavior
              sound:
                collection: MetalGlassBreak
            - !type:SpawnEntitiesBehavior
              spawn:
                SheetSteel1:
                  min: 3
                  max: 5
    - type: Gun
      fireRate: 12
      projectileSpeed: 120
      selectedMode: FullAuto
      availableModes:
        - FullAuto
      soundGunshot: /Audio/Weapons/Guns/Gunshots/vulcan.ogg
    - type: MagazineAmmoProvider
    - type: ItemSlots
      slots:
        gun_magazine:
          name: Magazine
          startingItem: MagazineVulcan
          insertSound: /Audio/Weapons/Guns/MagIn/ltrifle_magin.ogg
          ejectSound: /Audio/Weapons/Guns/MagOut/ltrifle_magout.ogg
          priority: 2
          whitelist:
            tags:
              - VulcanCartridgeBox
        gun_chamber:
          name: Chamber
          startingItem: CartridgeVulcanStandard
          priority: 1
          whitelist:
            tags:
              - VulcanCartridgeBox
    - type: ContainerContainer
      containers:
        ballistic-ammo: !type:Container
          ents: []
    - type: SignalControl
      isOnByDefault: true
    - type: DeviceNetwork
      deviceNetId: Wireless
      receiveFrequencyId: BasicDevice
    - type: WirelessNetworkConnection
      range: 2500
    - type: DeviceLinkSink
      ports:
        - Toggle
        - On
        - Off
    - type: ApcPowerReceiver
      powerLoad: 2500
    - type: ExtensionCableReceiver
    - type: LightningTarget
      priority: 1
    - type: MouseRotator
      angleTolerance: 5
      rotationSpeed: 180
      simple4DirMode: false
    - type: NoRotateOnInteract
    - type: NoRotateOnMove
    - type: Input
      context: "human"
    - type: MobState
    - type: Anchorable
      delay: 10
    - type: HardpointAnchorableOnly
      class: Ballistic
      size: Small

#faction-flagged variants

- type: entity
  parent: BaseWeaponTurretVulcan
  name: 20mm PTA "Operator" gatling turret
  id: WeaponTurretVulcan


#swarmer missiles - warship

- type: entity
  parent: BaseStructure
  id: BaseWeaponTurretSwarmer
  name: swarmer missile launcher
  components:
    - type: PointCannon
    - type: Clickable
    - type: InteractionOutline
    - type: Actions
    - type: Fixtures
      fixtures:
        fix1:
          shape:
            !type:PhysShapeAabb
            bounds: "-0.45,-0.45,0.45,0.45"
          density: 60
          mask:
            - MachineMask
          layer:
            - MachineLayer
    - type: Sprite
      sprite: _Crescent/Objects/Autoturrets/swarmermissile.rsi
      drawdepth: Mobs
      layers:
        - state: swarmer
    - type: WorldLoader
      radius: 256
    - type: CombatMode
      toggleMouseRotator: false
    - type: TurretIFF
    - type: Damageable
      damageContainer: Inorganic
    - type: Destructible
      thresholds:
        - trigger:
            !type:DamageTrigger
            damage: 800
          behaviors:
            - !type:DoActsBehavior
              acts: [ "Destruction" ]
        - trigger:
            !type:DamageTrigger
            damage: 500
          # TODO: Construction graph
          behaviors:
            - !type:DoActsBehavior
              acts: [ "Destruction" ]
            - !type:PlaySoundBehavior
              sound:
                collection: MetalGlassBreak
            - !type:SpawnEntitiesBehavior
              spawn:
                SheetSteel1:
                  min: 3
                  max: 5
    - type: ProjectileIFF
    - type: Gun
      projectileSpeed: 75
      fireRate: 0.5
      selectedMode: FullAuto
      availableModes:
        - FullAuto
      soundGunshot: /Audio/Weapons/Guns/Gunshots/rpgfire.ogg
    - type: MagazineAmmoProvider
    - type: ItemSlots
      slots:
        gun_magazine:
          name: Magazine
          startingItem: MagazineSwarmer
          insertSound: /Audio/Weapons/Guns/MagIn/ltrifle_magin.ogg
          ejectSound: /Audio/Weapons/Guns/MagOut/ltrifle_magout.ogg
          priority: 2
          whitelist:
            tags:
              - SwarmRocketBox
        gun_chamber:
          name: Chamber
          startingItem: SwarmerRocketCartridge
          priority: 1
          whitelist:
            tags:
              - SwarmRocket
    - type: ContainerContainer
      containers:
        ballistic-ammo: !type:Container
          ents: []
    - type: SignalControl
      isOnByDefault: true
    - type: DeviceNetwork
      deviceNetId: Wireless
      receiveFrequencyId: BasicDevice
    - type: WirelessNetworkConnection
      range: 2500
    - type: DeviceLinkSink
      ports:
        - Toggle
        - On
        - Off
    - type: ApcPowerReceiver
      powerLoad: 3500
    - type: ExtensionCableReceiver
    - type: LightningTarget
      priority: 1
    - type: MouseRotator
      angleTolerance: 5
      rotationSpeed: 180
      simple4DirMode: false
    - type: NoRotateOnInteract
    - type: NoRotateOnMove
    - type: Input
      context: "human"
    - type: MobState
    - type: Anchorable
      delay: 10
    - type: HardpointAnchorableOnly
      class: Missile
      size: Small

# long gun

- type: entity
  parent: BaseStructure
  id: BaseWeaponTurretArtillery
  name: long distance artillery
  abstract: true
  components:
    - type: PointCannon
    - type: Clickable
    - type: InteractionOutline
    - type: Actions
    - type: Fixtures
      fixtures:
        fix1:
          shape:
            !type:PhysShapeAabb
            bounds: "-0.45,-0.45,0.45,0.45"
          density: 60
          mask:
            - MachineMask
          layer:
            - MachineLayer
    - type: Sprite
      sprite: _Crescent/Objects/Autoturrets/longgun.rsi
      drawdepth: Mobs
      layers:
        - state: syndie_lethal
    - type: WorldLoader
      radius: 256
    - type: CombatMode
      toggleMouseRotator: false
    - type: Damageable
      damageContainer: Inorganic
    - type: TurretIFF
    - type: Destructible
      thresholds:
        - trigger:
            !type:DamageTrigger
            damage: 800
          behaviors:
            - !type:DoActsBehavior
              acts: [ "Destruction" ]
        - trigger:
            !type:DamageTrigger
            damage: 500
          # TODO: Construction graph
          behaviors:
            - !type:DoActsBehavior
              acts: [ "Destruction" ]
            - !type:PlaySoundBehavior
              sound:
                collection: MetalGlassBreak
            - !type:SpawnEntitiesBehavior
              spawn:
                SheetSteel1:
                  min: 3
                  max: 5
    - type: Gun
      projectileSpeed: 130
      fireRate: 2
      selectedMode: FullAuto
      availableModes:
        - FullAuto
      soundGunshot: /Audio/Weapons/Guns/Gunshots/needler.ogg
    - type: RechargeBasicEntityAmmo
      rechargeCooldown: 1
      rechargeSound:
        path: /Audio/Weapons/Guns/Bolt/lmg_bolt_closed.ogg
        params:
          pitch: 1.2
          variation: 0.08
    - type: BasicEntityAmmoProvider
      proto: LonggunShell
      capacity: 10
      count: 10
    - type: SignalControl
      isOnByDefault: true
    - type: DeviceNetwork
      deviceNetId: Wireless
      receiveFrequencyId: BasicDevice
    - type: WirelessNetworkConnection
      range: 2500
    - type: DeviceLinkSink
      ports:
        - Toggle
        - On
        - Off
    - type: ApcPowerReceiver
      powerLoad: 3000
    - type: ExtensionCableReceiver
    - type: LightningTarget
      priority: 1
    - type: MouseRotator
      angleTolerance: 5
      rotationSpeed: 180
      simple4DirMode: false
    - type: NoRotateOnInteract
    - type: NoRotateOnMove
    - type: Input
      context: "human"
    - type: MobState
    - type: Anchorable
      flags:
      - None
    - type: HardpointAnchorableOnly
      class: Ballistic
      size: Medium

# faction-flagged

- type: entity
  parent: BaseWeaponTurretArtillery
  name: 60mm NT "Derecho" exotic blaster
  id: WeaponTurretCoilgun
  suffix: Tier 3 Anti Ship Artillery

#heavymortar

- type: entity
  parent: BaseStructure
  id: BaseWeaponTurretMortar
  name: long distance mortar
  abstract: true
  components:
    - type: PointCannon
    - type: Clickable
    - type: InteractionOutline
    - type: Actions
    - type: Fixtures
      fixtures:
        fix1:
          shape:
            !type:PhysShapeAabb
            bounds: "-0.45,-0.45,0.45,0.45"
          density: 60
          mask:
            - MachineMask
          layer:
            - MachineLayer
    - type: Sprite
      sprite: _Crescent/Objects/Autoturrets/heavymortar.rsi
      drawdepth: Mobs
      layers:
        - state: syndie_lethal
    - type: WorldLoader
      radius: 256
    - type: CombatMode
      toggleMouseRotator: false
    - type: Damageable
      damageContainer: Inorganic
    - type: TurretIFF
    - type: Destructible
      thresholds:
        - trigger:
            !type:DamageTrigger
            damage: 800
          behaviors:
            - !type:DoActsBehavior
              acts: [ "Destruction" ]
        - trigger:
            !type:DamageTrigger
            damage: 500
          # TODO: Construction graph
          behaviors:
            - !type:DoActsBehavior
              acts: [ "Destruction" ]
            - !type:PlaySoundBehavior
              sound:
                collection: MetalGlassBreak
            - !type:SpawnEntitiesBehavior
              spawn:
                SheetSteel1:
                  min: 3
                  max: 5
    - type: Gun
      projectileSpeed: 130
      fireRate: 0.2
      selectedMode: FullAuto
      availableModes:
        - FullAuto
      soundGunshot: /Audio/Weapons/Guns/Gunshots/artillery.ogg
    - type: MagazineAmmoProvider
    - type: ItemSlots
      slots:
        gun_magazine:
          name: Magazine
          startingItem: MagazineMortar
          insertSound: /Audio/Weapons/Guns/MagIn/ltrifle_magin.ogg
          ejectSound: /Audio/Weapons/Guns/MagOut/ltrifle_magout.ogg
          priority: 2
          whitelist:
            tags:
              - MortarBox
        gun_chamber:
          name: Chamber
          startingItem: CartridgeMortarStandardTurret
          priority: 1
          whitelist:
            tags:
              - MortarShell
    - type: ContainerContainer
      containers:
        ballistic-ammo: !type:Container
          ents: []
    - type: SignalControl
      isOnByDefault: true
    - type: DeviceNetwork
      deviceNetId: Wireless
      receiveFrequencyId: BasicDevice
    - type: WirelessNetworkConnection
      range: 2500
    - type: DeviceLinkSink
      ports:
        - Toggle
        - On
        - Off
    - type: ApcPowerReceiver
      powerLoad: 2000
    - type: ExtensionCableReceiver
    - type: LightningTarget
      priority: 1
    - type: MouseRotator
      angleTolerance: 5
      rotationSpeed: 180
      simple4DirMode: false
    - type: NoRotateOnInteract
    - type: NoRotateOnMove
    - type: Input
      context: "human"
    - type: MobState
    - type: Anchorable
      delay: 10
    - type: HardpointAnchorableOnly
      class: Ballistic
      size: Medium


- type: entity
  parent: BaseWeaponTurretMortar
  name: 90mm heavy mortar-pounder
  categories: [ HideSpawnMenu ]
  id: WeaponTurretMortar
  suffix: Tier 1 Anti Ship Artillery


# PLASMA LASER

- type: entity
  parent: BaseStructure
  id: BaseWeaponTurretLaser
  name: pressure gatling
  abstract: true
  components:
    - type: PointCannon
    - type: Clickable
    - type: InteractionOutline
    - type: Actions
    - type: Fixtures
      fixtures:
        fix1:
          shape:
            !type:PhysShapeAabb
            bounds: "-0.45,-0.45,0.45,0.45"
          density: 60
          mask:
            - MachineMask
          layer:
            - MachineLayer
    - type: ContainerContainer
      containers:
        ballistic-ammo: !type:Container
    - type: Sprite
      sprite: _Crescent/Objects/Autoturrets/plasmacannonnormal.rsi
      drawdepth: Mobs
      layers:
        - state: syndie_lethal
    - type: WorldLoader
      radius: 256
    - type: CombatMode
      toggleMouseRotator: false
    - type: Damageable
      damageContainer: Inorganic
    - type: TurretIFF
    - type: Destructible
      thresholds:
        - trigger:
            !type:DamageTrigger
            damage: 800
          behaviors:
            - !type:DoActsBehavior
              acts: [ "Destruction" ]
        - trigger:
            !type:DamageTrigger
            damage: 500
          # TODO: Construction graph
          behaviors:
            - !type:DoActsBehavior
              acts: [ "Destruction" ]
            - !type:PlaySoundBehavior
              sound:
                collection: MetalGlassBreak
            - !type:SpawnEntitiesBehavior
              spawn:
                SheetSteel1:
                  min: 3
                  max: 5
    - type: Gun
      projectileSpeed: 95
      fireRate: 4
      selectedMode: FullAuto
      availableModes:
        - FullAuto
      soundGunshot: /Audio/Weapons/Guns/Gunshots/lasergatling.ogg
    - type: RechargeBasicEntityAmmo
      rechargeCooldown: 2
      rechargeSound:
        path: /Audio/Weapons/Guns/Bolt/lmg_bolt_closed.ogg
        params:
          pitch: 1.2
          variation: 0.08
    - type: BasicEntityAmmoProvider
      proto: BulletEnergyTurretLaser
      capacity: 40
      count: 15
    - type: SignalControl
      isOnByDefault: true
    - type: DeviceNetwork
      deviceNetId: Wireless
      receiveFrequencyId: BasicDevice
    - type: WirelessNetworkConnection
      range: 2500
    - type: DeviceLinkSink
      ports:
        - Toggle
        - On
        - Off
    - type: ApcPowerReceiver
      powerLoad: 3000
    - type: ExtensionCableReceiver
    - type: LightningTarget
      priority: 1
    - type: MouseRotator
      angleTolerance: 5
      rotationSpeed: 180
      simple4DirMode: false
    - type: NoRotateOnInteract
    - type: NoRotateOnMove
    - type: Input
      context: "human"
    - type: MobState
    - type: Anchorable
      delay: 10
    - type: HardpointAnchorableOnly
      class: Energy
      size: Small

- type: entity
  parent: BaseWeaponTurretLaser
  name: SHI 180c 'Torch' pressure gatling
  id: WeaponTurretLaser
  suffix: Tier 1 Light Anti Ship Turret

#smartbomb

- type: entity
  parent: BaseStructure
  id: BaseWeaponTurretSmartbomb
  name: smartbomb launcher
  abstract: true
  components:
    - type: PointCannon
    - type: Clickable
    - type: InteractionOutline
    - type: Actions
    - type: Fixtures
      fixtures:
        fix1:
          shape:
            !type:PhysShapeAabb
            bounds: "-0.45,-0.45,0.45,0.45"
          density: 60
          mask:
            - MachineMask
          layer:
            - MachineLayer
    - type: ContainerContainer
      containers:
        ballistic-ammo: !type:Container
    - type: Sprite
      sprite: _Crescent/Objects/Autoturrets/smartmissile.rsi
      drawdepth: Mobs
      layers:
        - state: syndie_lethal
    - type: WorldLoader
      radius: 256
    - type: CombatMode
      toggleMouseRotator: false
    - type: Damageable
      damageContainer: Inorganic
    - type: TurretIFF
    - type: Destructible
      thresholds:
        - trigger:
            !type:DamageTrigger
            damage: 800
          behaviors:
            - !type:DoActsBehavior
              acts: [ "Destruction" ]
        - trigger:
            !type:DamageTrigger
            damage: 500
          # TODO: Construction graph
          behaviors:
            - !type:DoActsBehavior
              acts: [ "Destruction" ]
            - !type:PlaySoundBehavior
              sound:
                collection: MetalGlassBreak
            - !type:SpawnEntitiesBehavior
              spawn:
                SheetSteel1:
                  min: 3
                  max: 5
    - type: Gun
      projectileSpeed: 14
      fireRate: 0.09
      selectedMode: FullAuto
      availableModes:
        - FullAuto
      soundGunshot: /Audio/Weapons/Guns/Gunshots/rpgfire.ogg
    # TODO: Power ammo provider?
    - type: BallisticAmmoProvider
      proto: SmartBomb
      capacity: 99999
    - type: SignalControl
      isOnByDefault: true
    - type: DeviceNetwork
      deviceNetId: Wireless
      receiveFrequencyId: BasicDevice
    - type: WirelessNetworkConnection
      range: 2500
    - type: DeviceLinkSink
      ports:
        - Toggle
        - On
        - Off
    - type: ApcPowerReceiver
      powerLoad: 2500
    - type: ExtensionCableReceiver
    - type: LightningTarget
      priority: 1
    - type: MouseRotator
      angleTolerance: 5
      rotationSpeed: 180
      simple4DirMode: false
    - type: NoRotateOnInteract
    - type: NoRotateOnMove
    - type: Input
      context: "human"
    - type: MobState
    - type: Anchorable
      delay: 10
    - type: HardpointAnchorableOnly
      class: Missile
      size: Small

#needler

- type: entity
  parent: BaseStructure
  id: BaseWeaponTurretNeedler
  name: needler artillery
  abstract: true
  components:
    - type: PointCannon
    - type: Clickable
    - type: InteractionOutline
    - type: Actions
    - type: Fixtures
      fixtures:
        fix1:
          shape:
            !type:PhysShapeAabb
            bounds: "-0.45,-0.45,0.45,0.45"
          density: 60
          mask:
            - MachineMask
          layer:
            - MachineLayer
    - type: Sprite
      sprite: _Crescent/Objects/Autoturrets/needler.rsi
      drawdepth: Mobs
      layers:
        - state: syndie_lethal
    - type: WorldLoader
      radius: 256
    - type: CombatMode
      toggleMouseRotator: false
    - type: Damageable
      damageContainer: Inorganic
    - type: TurretIFF
    - type: Destructible
      thresholds:
        - trigger:
            !type:DamageTrigger
            damage: 800
          behaviors:
            - !type:DoActsBehavior
              acts: [ "Destruction" ]
        - trigger:
            !type:DamageTrigger
            damage: 500
          # TODO: Construction graph
          behaviors:
            - !type:DoActsBehavior
              acts: [ "Destruction" ]
            - !type:PlaySoundBehavior
              sound:
                collection: MetalGlassBreak
            - !type:SpawnEntitiesBehavior
              spawn:
                SheetSteel1:
                  min: 3
                  max: 5
    - type: Gun
      projectileSpeed: 130
      fireRate: 0.6
      selectedMode: FullAuto
      availableModes:
        - FullAuto
      soundGunshot: /Audio/Weapons/Guns/Gunshots/needler.ogg
    - type: MagazineAmmoProvider
    - type: ItemSlots
      slots:
        gun_magazine:
          name: Magazine
          startingItem: MagazineNeedler
          insertSound: /Audio/Weapons/Guns/MagIn/ltrifle_magin.ogg
          ejectSound: /Audio/Weapons/Guns/MagOut/ltrifle_magout.ogg
          priority: 2
          whitelist:
            tags:
              - NeedlerMag
        gun_chamber:
          name: Chamber
          startingItem: Needler
          priority: 1
          whitelist:
            tags:
              - NeedlerShell
    - type: ContainerContainer
      containers:
        ballistic-ammo: !type:Container
          ents: []
    - type: SignalControl
      isOnByDefault: true
    - type: DeviceNetwork
      deviceNetId: Wireless
      receiveFrequencyId: BasicDevice
    - type: WirelessNetworkConnection
      range: 2500
    - type: DeviceLinkSink
      ports:
        - Toggle
        - On
        - Off
    - type: ApcPowerReceiver
      powerLoad: 3500
    - type: ExtensionCableReceiver
    - type: LightningTarget
      priority: 1
    - type: MouseRotator
      angleTolerance: 5
      rotationSpeed: 180
      simple4DirMode: false
    - type: NoRotateOnInteract
    - type: NoRotateOnMove
    - type: Input
      context: "human"
    - type: MobState
    - type: Anchorable
      delay: 10
    - type: HardpointAnchorableOnly
      class: Ballistic
      size: Medium

- type: entity
  parent: BaseWeaponTurretNeedler
  name: 60mm PTA 'Needler' heavy precision autogun
  id: WeaponTurretNeedler
  suffix : Tier 2 Anti Ship Artillery

#basic point n fire cannon, controlled by targeting console
#requires GunComponent and PointCannonComponent to work, rest can be modified however you like
- type: entity
  parent: BaseStructure
  id: PointNFireCannonExample
  name: ballistic turret
  components:
    - type: PointCannon
    - type: Clickable
    - type: InteractionOutline
    - type: Fixtures
      fixtures:
        fix1:
          shape:
            !type:PhysShapeAabb
            bounds: "-0.45,-0.45,0.45,0.45"
          density: 60
          mask:
            - MachineMask
          layer:
            - MachineLayer
    - type: ContainerContainer
      containers:
        ballistic-ammo: !type:Container
    - type: Sprite
      sprite: _Crescent/Objects/Autoturrets/lightautoturret.rsi
      drawdepth: Mobs
      layers:
        - state: syndie_lethal
    - type: WorldLoader
      radius: 256
    - type: Damageable
      damageContainer: Inorganic
    - type: Destructible
      thresholds:
        - trigger:
            !type:DamageTrigger
            damage: 800
          behaviors:
            - !type:DoActsBehavior
              acts: [ "Destruction" ]
        - trigger:
            !type:DamageTrigger
            damage: 500
          behaviors:
            - !type:DoActsBehavior
              acts: [ "Destruction" ]
            - !type:PlaySoundBehavior
              sound:
                collection: MetalGlassBreak
            - !type:SpawnEntitiesBehavior
              spawn:
                SheetSteel1:
                  min: 3
                  max: 5
    - type: TurretIFF
    - type: Gun
      fireRate: 7
      projectileSpeed: 145
      selectedMode: FullAuto
      availableModes:
        - FullAuto
      soundGunshot: /Audio/Weapons/Guns/Gunshots/gun_sentry.ogg
    - type: BallisticAmmoProvider
      proto: PDTBulletCase
      capacity: 25000
    - type: Anchorable
      delay: 10
    - type: HardpointAnchorableOnly
      class: Ballistic
      size: Small

# gargoyle

- type: entity
  parent: BaseStructure
  id: BaseWeaponTurretGargoyle
  name: heavy 'Gargoyle' LRM cruise missile launcher
  components:
    - type: PointCannon
    - type: Clickable
    - type: InteractionOutline
    - type: Actions
    - type: Fixtures
      fixtures:
        fix1:
          shape:
            !type:PhysShapeAabb
            bounds: "-0.45,-0.45,0.45,0.45"
          density: 60
          mask:
            - MachineMask
          layer:
            - MachineLayer
    - type: Sprite
      sprite: _Crescent/Objects/Autoturrets/gargoylemissile.rsi
      drawdepth: Mobs
      layers:
        - state: syndie_lethal
    - type: WorldLoader
      radius: 256
    - type: CombatMode
      toggleMouseRotator: false
    - type: TurretIFF
    - type: Damageable
      damageContainer: Inorganic
    - type: Destructible
      thresholds:
        - trigger:
            !type:DamageTrigger
            damage: 1600
          behaviors:
            - !type:DoActsBehavior
              acts: [ "Destruction" ]
        - trigger:
            !type:DamageTrigger
            damage: 1600
          # TODO: Construction graph
          behaviors:
            - !type:DoActsBehavior
              acts: [ "Destruction" ]
            - !type:PlaySoundBehavior
              sound:
                collection: MetalGlassBreak
            - !type:SpawnEntitiesBehavior
              spawn:
                SheetSteel1:
                  min: 3
                  max: 5
    - type: ProjectileIFF
    - type: Gun
      projectileSpeed: 30
      fireRate: 0.4
      selectedMode: FullAuto
      availableModes:
        - FullAuto
      soundGunshot: /Audio/Weapons/Guns/Gunshots/rocket_launcher.ogg
    - type: BallisticAmmoProvider
      cycleable: false
      capacity: 3
      proto: TorpGarg
      whitelist:
        tags:
        - TorpedoGarg
    - type: ContainerContainer
      containers:
        ballistic-ammo: !type:Container
          ents: []
    - type: ApcPowerReceiver
      powerLoad: 6500
    - type: ExtensionCableReceiver
    - type: LightningTarget
      priority: 1
    - type: MouseRotator
      angleTolerance: 5
      rotationSpeed: 180
      simple4DirMode: false
    - type: NoRotateOnInteract
    - type: NoRotateOnMove
    - type: Input
      context: "human"
    - type: MobState
    - type: Anchorable
      delay: 10
    - type: HardpointAnchorableOnly
      class: Missile
      size: Large

#lancer

- type: entity
  parent: BaseStructure
  id: BaseWeaponTurretLancer
  name: light 'Lancer' MRM missile system
  components:
    - type: PointCannon
    - type: Clickable
    - type: InteractionOutline
    - type: Actions
    - type: Fixtures
      fixtures:
        fix1:
          shape:
            !type:PhysShapeAabb
            bounds: "-0.45,-0.45,0.45,0.45"
          density: 60
          mask:
            - MachineMask
          layer:
            - MachineLayer
    - type: Sprite
      sprite: _Crescent/Objects/Autoturrets/lancemissile.rsi
      drawdepth: Mobs
      layers:
        - state: syndie_lethal
    - type: WorldLoader
      radius: 256
    - type: CombatMode
      toggleMouseRotator: false
    - type: TurretIFF
    - type: Damageable
      damageContainer: Inorganic
    - type: Destructible
      thresholds:
        - trigger:
            !type:DamageTrigger
            damage: 800
          behaviors:
            - !type:DoActsBehavior
              acts: [ "Destruction" ]
        - trigger:
            !type:DamageTrigger
            damage: 500
          # TODO: Construction graph
          behaviors:
            - !type:DoActsBehavior
              acts: [ "Destruction" ]
            - !type:PlaySoundBehavior
              sound:
                collection: MetalGlassBreak
            - !type:SpawnEntitiesBehavior
              spawn:
                SheetSteel1:
                  min: 3
                  max: 5
    - type: ProjectileIFF
    - type: Gun
      projectileSpeed: 85
      fireRate: 0.9
      selectedMode: FullAuto
      availableModes:
        - FullAuto
      soundGunshot: /Audio/Weapons/Guns/Gunshots/rpgfire.ogg
    - type: BallisticAmmoProvider
      cycleable: false
      capacity: 15
      proto: LanceRocketCartridge
      whitelist:
        tags:
        - LanceRocket
    - type: ContainerContainer
      containers:
        ballistic-ammo: !type:Container
          ents: []
    - type: ApcPowerReceiver
      powerLoad: 4000
    - type: ExtensionCableReceiver
    - type: LightningTarget
      priority: 1
    - type: MouseRotator
      angleTolerance: 5
      rotationSpeed: 180
      simple4DirMode: false
    - type: NoRotateOnInteract
    - type: NoRotateOnMove
    - type: Input
      context: "human"
    - type: MobState
    - type: Anchorable
      delay: 10
    - type: HardpointAnchorableOnly
      class: Missile
      size: Medium

#battlemortar

- type: entity
  parent: BaseStructure
  id: BaseWeaponTurretBattlemortar
  name: 230mm 'Hephaeustus' assault artillery platform
  components:
    - type: PointCannon
    - type: Clickable
    - type: InteractionOutline
    - type: Actions
    - type: Fixtures
      fixtures:
        fix1:
          shape:
            !type:PhysShapeAabb
            bounds: "-0.45,-0.45,0.45,0.45"
          density: 60
          mask:
            - MachineMask
          layer:
            - MachineLayer
    - type: Sprite
      sprite: _Crescent/Objects/Autoturrets/battlemortar.rsi
      drawdepth: Mobs
      layers:
        - state: syndie_lethal
    - type: WorldLoader
      radius: 256
    - type: CombatMode
      toggleMouseRotator: false
    - type: TurretIFF
    - type: Damageable
      damageContainer: Inorganic
    - type: Destructible
      thresholds:
        - trigger:
            !type:DamageTrigger
            damage: 3000
          behaviors:
            - !type:DoActsBehavior
              acts: [ "Destruction" ]
        - trigger:
            !type:DamageTrigger
            damage: 3000
          # TODO: Construction graph
          behaviors:
            - !type:DoActsBehavior
              acts: [ "Destruction" ]
            - !type:PlaySoundBehavior
              sound:
                collection: MetalGlassBreak
            - !type:SpawnEntitiesBehavior
              spawn:
                SheetSteel1:
                  min: 3
                  max: 5
    - type: ProjectileIFF
    - type: Gun
      projectileSpeed: 130
      fireRate: 0.2
      selectedMode: FullAuto
      availableModes:
        - FullAuto
      soundGunshot: /Audio/Weapons/Guns/Gunshots/heph.ogg
    - type: BallisticAmmoProvider
      cycleable: false
      capacity: 3
      proto: HeavyMortarCartridge
      whitelist:
        tags:
        - HeavyMortarShell
    - type: ContainerContainer
      containers:
        ballistic-ammo: !type:Container
          ents: []
    - type: ApcPowerReceiver
      powerLoad: 4000
    - type: ExtensionCableReceiver
    - type: LightningTarget
      priority: 1
    - type: MouseRotator
      angleTolerance: 5
      rotationSpeed: 180
      simple4DirMode: false
    - type: NoRotateOnInteract
    - type: NoRotateOnMove
    - type: Input
      context: "human"
    - type: MobState
    - type: Anchorable
      delay: 10
    - type: HardpointAnchorableOnly
      class: Ballistic
      size: Large


# flak

- type: entity
  parent: BaseStructure
  id: FlakCannonTurret
  name: 88mm 'Prince' flak-screen turret
  components:
    - type: PointCannon
    - type: Clickable
    - type: InteractionOutline
    - type: Actions
    - type: Fixtures
      fixtures:
        fix1:
          shape:
            !type:PhysShapeAabb
            bounds: "-0.45,-0.45,0.45,0.45"
          density: 60
          mask:
            - MachineMask
          layer:
            - MachineLayer
    - type: Sprite
      sprite: _Crescent/Objects/Autoturrets/flak.rsi
      drawdepth: Mobs
      layers:
        - state: syndie_lethal
    - type: WorldLoader
      radius: 256
    - type: CombatMode
      toggleMouseRotator: false
    - type: TurretIFF
    - type: Damageable
      damageContainer: Inorganic
    - type: Destructible
      thresholds:
        - trigger:
            !type:DamageTrigger
            damage: 1600
          behaviors:
            - !type:DoActsBehavior
              acts: [ "Destruction" ]
        - trigger:
            !type:DamageTrigger
            damage: 1600
          # TODO: Construction graph
          behaviors:
            - !type:DoActsBehavior
              acts: [ "Destruction" ]
            - !type:PlaySoundBehavior
              sound:
                collection: MetalGlassBreak
            - !type:SpawnEntitiesBehavior
              spawn:
                SheetSteel1:
                  min: 3
                  max: 5
    - type: ProjectileIFF
    - type: Gun
      projectileSpeed: 90
      fireRate: 0.8
      selectedMode: FullAuto
      availableModes:
        - FullAuto
      soundGunshot: /Audio/Weapons/Guns/Gunshots/needler.ogg
    - type: MagazineAmmoProvider
    - type: ItemSlots
      slots:
        gun_magazine:
          name: Magazine
          startingItem: MagazineFlak
          insertSound: /Audio/Weapons/Guns/MagIn/ltrifle_magin.ogg
          ejectSound: /Audio/Weapons/Guns/MagOut/ltrifle_magout.ogg
          priority: 2
          whitelist:
            tags:
              - FlakBox
        gun_chamber:
          name: Chamber
          startingItem: FlakCartridge
          priority: 1
          whitelist:
            tags:
              - FlakShell
    - type: ContainerContainer
      containers:
        ballistic-ammo: !type:Container
          ents: []
    - type: ApcPowerReceiver
      powerLoad: 6500
    - type: ExtensionCableReceiver
    - type: LightningTarget
      priority: 1
    - type: MouseRotator
      angleTolerance: 5
      rotationSpeed: 180
      simple4DirMode: false
    - type: NoRotateOnInteract
    - type: NoRotateOnMove
    - type: Input
      context: "human"
    - type: MobState
    - type: Anchorable
      delay: 10
    - type: HardpointAnchorableOnly
      class: Ballistic
      size: Large

# catapult

- type: entity
  parent: BaseStructure
  id: CatapultTorpedo
  name: MU91 323mm "Catapult" LRM torpedo launcher
  components:
    - type: PointCannon
    - type: Clickable
    - type: InteractionOutline
    - type: Actions
    - type: Fixtures
      fixtures:
        fix1:
          shape:
            !type:PhysShapeAabb
            bounds: "-0.45,-0.45,0.45,0.45"
          density: 60
          mask:
            - MachineMask
          layer:
            - MachineLayer
    - type: Sprite
      sprite: _Crescent/Objects/Autoturrets/catapult.rsi
      drawdepth: Mobs
      layers:
        - state: catapult
    - type: WorldLoader
      radius: 256
    - type: CombatMode
      toggleMouseRotator: false
    - type: TurretIFF
    - type: Damageable
      damageContainer: Inorganic
    - type: Destructible
      thresholds:
        - trigger:
            !type:DamageTrigger
            damage: 1600
          behaviors:
            - !type:DoActsBehavior
              acts: [ "Destruction" ]
        - trigger:
            !type:DamageTrigger
            damage: 1600
          behaviors:
            - !type:DoActsBehavior
              acts: [ "Destruction" ]
            - !type:PlaySoundBehavior
              sound:
                collection: MetalGlassBreak
            - !type:SpawnEntitiesBehavior
              spawn:
                SheetSteel1:
                  min: 3
                  max: 5
    - type: ProjectileIFF
    - type: Gun
      projectileSpeed: 30
      fireRate: 0.2
      selectedMode: FullAuto
      availableModes:
        - FullAuto
      soundGunshot: /Audio/Weapons/Guns/Gunshots/rpgfire.ogg
    - type: BallisticAmmoProvider
      cycleable: false
      capacity: 6
      proto: TorpCatapult
      whitelist:
        tags:
        - TorpedoCatapult
    - type: ContainerContainer
      containers:
        ballistic-ammo: !type:Container
          ents: []
    - type: ApcPowerReceiver
      powerLoad: 6500
    - type: ExtensionCableReceiver
    - type: LightningTarget
      priority: 1
    - type: MouseRotator
      angleTolerance: 5
      rotationSpeed: 180
      simple4DirMode: false
    - type: NoRotateOnInteract
    - type: NoRotateOnMove
    - type: Input
      context: "human"
    - type: MobState
    - type: Anchorable
      delay: 10
    - type: HardpointAnchorableOnly
      class: Missile
      size: Large

#heavyplasma

- type: entity
  parent: BaseStructure
  id: BaseWeaponTurretHeavyPlasmaRimward
  name: 800c "Rimward" hybrid plasma blaster
  description: A heavy laser turret combining antimatter and plasma technology.
  components:
    - type: PointCannon
    - type: Clickable
    - type: InteractionOutline
    - type: Actions
    - type: Fixtures
      fixtures:
        fix1:
          shape:
            !type:PhysShapeAabb
            bounds: "-0.45,-0.45,0.45,0.45"
          density: 60
          mask:
            - MachineMask
          layer:
            - MachineLayer
    - type: ContainerContainer
      containers:
        ballistic-ammo: !type:Container
    - type: Sprite
      sprite: _Crescent/Objects/Autoturrets/atlas.rsi
      drawdepth: Mobs
      layers:
        - state: atlas
    - type: WorldLoader
      radius: 256
    - type: CombatMode
      toggleMouseRotator: false
    - type: Damageable
      damageContainer: Inorganic
    - type: TurretIFF
    - type: Destructible
      thresholds:
        - trigger:
            !type:DamageTrigger
            damage: 800
          behaviors:
            - !type:DoActsBehavior
              acts: [ "Destruction" ]
        - trigger:
            !type:DamageTrigger
            damage: 500
          # TODO: Construction graph
          behaviors:
            - !type:DoActsBehavior
              acts: [ "Destruction" ]
            - !type:PlaySoundBehavior
              sound:
                collection: MetalGlassBreak
            - !type:SpawnEntitiesBehavior
              spawn:
                SheetSteel1:
                  min: 3
                  max: 5
    - type: Gun
      projectileSpeed: 75
      fireRate: 1.7
      selectedMode: FullAuto
      availableModes:
        - FullAuto
      soundGunshot: _Crescent/Objects/ShuttleWeapons/ioncannon.rsi
    - type: RechargeBasicEntityAmmo
      rechargeCooldown: 2
      rechargeSound:
        path: /Audio/Weapons/Guns/Bolt/lmg_bolt_closed.ogg
        params:
          pitch: 1.2
          variation: 0.08
    - type: BasicEntityAmmoProvider
      proto: BulletPlasmaBlaster
      capacity: 20
      count: 20
    - type: SignalControl
      isOnByDefault: true
    - type: DeviceNetwork
      deviceNetId: Wireless
      receiveFrequencyId: BasicDevice
    - type: WirelessNetworkConnection
      range: 2500
    - type: DeviceLinkSink
      ports:
        - Toggle
        - On
        - Off
    - type: ApcPowerReceiver
      powerLoad: 3000
    - type: ExtensionCableReceiver
    - type: LightningTarget
      priority: 1
    - type: MouseRotator
      angleTolerance: 5
      rotationSpeed: 180
      simple4DirMode: false
    - type: NoRotateOnInteract
    - type: NoRotateOnMove
    - type: Input
      context: "human"
    - type: MobState
    - type: Anchorable
      delay: 10
    - type: HardpointAnchorableOnly
      class: Energy
      size: Medium

# compakt

- type: entity
  parent: BaseStructure
  id: BaseWeaponTurretHeavyPlasma
  name: 350c "Compakt" hybrid energy gatling
  description: A versatile energy turret with interchangable lenses for varied effect.
  components:
    - type: PointCannon
    - type: Clickable
    - type: InteractionOutline
    - type: Actions
    - type: Fixtures
      fixtures:
        fix1:
          shape:
            !type:PhysShapeAabb
            bounds: "-0.45,-0.45,0.45,0.45"
          density: 60
          mask:
            - MachineMask
          layer:
            - MachineLayer
    - type: ContainerContainer
      containers:
        ballistic-ammo: !type:Container
    - type: Sprite
      sprite: _Crescent/Objects/Autoturrets/lasergatling.rsi
      drawdepth: Mobs
      layers:
        - state: lasergatling
    - type: WorldLoader
      radius: 256
    - type: CombatMode
      toggleMouseRotator: false
    - type: Damageable
      damageContainer: Inorganic
    - type: TurretIFF
    - type: Destructible
      thresholds:
        - trigger:
            !type:DamageTrigger
            damage: 800
          behaviors:
            - !type:DoActsBehavior
              acts: [ "Destruction" ]
        - trigger:
            !type:DamageTrigger
            damage: 500
          # TODO: Construction graph
          behaviors:
            - !type:DoActsBehavior
              acts: [ "Destruction" ]
            - !type:PlaySoundBehavior
              sound:
                collection: MetalGlassBreak
            - !type:SpawnEntitiesBehavior
              spawn:
                SheetSteel1:
                  min: 3
                  max: 5
    - type: Gun
      projectileSpeed: 95
      fireRate: 12
      selectedMode: FullAuto
      availableModes:
        - FullAuto
      soundGunshot: /Audio/Weapons/Guns/Gunshots/lasergatling.ogg
    - type: MagazineAmmoProvider
    - type: ItemSlots
      slots:
        gun_magazine:
          name: Magazine
          startingItem: LensInfared
          insertSound: /Audio/Weapons/Guns/MagIn/ltrifle_magin.ogg
          ejectSound: /Audio/Weapons/Guns/MagOut/ltrifle_magout.ogg
          priority: 2
          whitelist:
            tags:
              - CompaktLens
    - type: SignalControl
      isOnByDefault: true
    - type: DeviceNetwork
      deviceNetId: Wireless
      receiveFrequencyId: BasicDevice
    - type: WirelessNetworkConnection
      range: 2500
    - type: DeviceLinkSink
      ports:
        - Toggle
        - On
        - Off
    - type: ApcPowerReceiver
      powerLoad: 3000
    - type: ExtensionCableReceiver
    - type: LightningTarget
      priority: 1
    - type: MouseRotator
      angleTolerance: 5
      rotationSpeed: 180
      simple4DirMode: false
    - type: NoRotateOnInteract
    - type: NoRotateOnMove
    - type: Input
      context: "human"
    - type: MobState
    - type: Anchorable
      delay: 10
    - type: HardpointAnchorableOnly
      class: Energy
      size: Medium

#solaris

- type: entity
  parent: BaseStructure
  id: BaseWeaponTurretSolaris
  name: 90mm "Solaris" antimatter blaster
  description: A versatile ballistic turret that fires specialized antimatter rounds. A hybrid of machinegun and artillery.
  components:
    - type: PointCannon
    - type: Clickable
    - type: InteractionOutline
    - type: Actions
    - type: Fixtures
      fixtures:
        fix1:
          shape:
            !type:PhysShapeAabb
            bounds: "-0.45,-0.45,0.45,0.45"
          density: 60
          mask:
            - MachineMask
          layer:
            - MachineLayer
    - type: ContainerContainer
      containers:
        ballistic-ammo: !type:Container
    - type: Sprite
      sprite: _Crescent/Objects/Autoturrets/solaris.rsi
      drawdepth: Mobs
      layers:
        - state: solaris
    - type: WorldLoader
      radius: 256
    - type: CombatMode
      toggleMouseRotator: false
    - type: Damageable
      damageContainer: Inorganic
    - type: TurretIFF
    - type: Destructible
      thresholds:
        - trigger:
            !type:DamageTrigger
            damage: 800
          behaviors:
            - !type:DoActsBehavior
              acts: [ "Destruction" ]
        - trigger:
            !type:DamageTrigger
            damage: 500
          # TODO: Construction graph
          behaviors:
            - !type:DoActsBehavior
              acts: [ "Destruction" ]
            - !type:PlaySoundBehavior
              sound:
                collection: MetalGlassBreak
            - !type:SpawnEntitiesBehavior
              spawn:
                SheetSteel1:
                  min: 3
                  max: 5
    - type: Gun
      projectileSpeed: 95
      fireRate: 3.5
      selectedMode: FullAuto
      availableModes:
        - FullAuto
      soundGunshot: _Crescent/Objects/ShuttleWeapons/ioncannon.rsi
    - type: MagazineAmmoProvider
    - type: ItemSlots
      slots:
        gun_magazine:
          name: Magazine
          startingItem: StandardAntimatterCanister
          insertSound: /Audio/Weapons/Guns/MagIn/ltrifle_magin.ogg
          ejectSound: /Audio/Weapons/Guns/MagOut/ltrifle_magout.ogg
          priority: 2
          whitelist:
            tags:
              - AntimatterCanister
    - type: SignalControl
      isOnByDefault: true
    - type: DeviceNetwork
      deviceNetId: Wireless
      receiveFrequencyId: BasicDevice
    - type: WirelessNetworkConnection
      range: 2500
    - type: DeviceLinkSink
      ports:
        - Toggle
        - On
        - Off
    - type: ApcPowerReceiver
      powerLoad: 4000
    - type: ExtensionCableReceiver
    - type: LightningTarget
      priority: 1
    - type: MouseRotator
      angleTolerance: 5
      rotationSpeed: 180
      simple4DirMode: false
    - type: NoRotateOnInteract
    - type: NoRotateOnMove
    - type: Input
      context: "human"
    - type: MobState
    - type: Anchorable
      delay: 10
    - type: HardpointAnchorableOnly
      class: Energy
      size: Medium

#jeong

- type: entity
  parent: BaseStructure
  id: BaseWeaponTurretJeong
  name: 70mm "Jeong" swarmrocket platform
  description: A heavy, ship-mounted rocket platform that spits out a barrage of guided, small rockets.
  components:
    - type: PointCannon
    - type: Clickable
    - type: InteractionOutline
    - type: Actions
    - type: Fixtures
      fixtures:
        fix1:
          shape:
            !type:PhysShapeAabb
            bounds: "-0.45,-0.45,0.45,0.45"
          density: 60
          mask:
            - MachineMask
          layer:
            - MachineLayer
    - type: ContainerContainer
      containers:
        ballistic-ammo: !type:Container
    - type: Sprite
      sprite: _Crescent/Objects/Autoturrets/jeong.rsi
      drawdepth: Mobs
      layers:
        - state: jeong
    - type: WorldLoader
      radius: 256
    - type: CombatMode
      toggleMouseRotator: false
    - type: Damageable
      damageContainer: Inorganic
    - type: TurretIFF
    - type: Destructible
      thresholds:
        - trigger:
            !type:DamageTrigger
            damage: 800
          behaviors:
            - !type:DoActsBehavior
              acts: [ "Destruction" ]
        - trigger:
            !type:DamageTrigger
            damage: 500
          # TODO: Construction graph
          behaviors:
            - !type:DoActsBehavior
              acts: [ "Destruction" ]
            - !type:PlaySoundBehavior
              sound:
                collection: MetalGlassBreak
            - !type:SpawnEntitiesBehavior
              spawn:
                SheetSteel1:
                  min: 3
                  max: 5
    - type: Gun
      projectileSpeed: 60
      fireRate: 3.4
      selectedMode: FullAuto
      availableModes:
        - FullAuto
      soundGunshot: /Audio/Weapons/Guns/Gunshots/rpgfire.ogg
      angleDecay: 45
      minAngle: 5
      maxAngle: 15
    - type: MagazineAmmoProvider
    - type: ItemSlots
      slots:
        gun_magazine:
          name: Magazine
          startingItem: SwarmrocketClip
          insertSound: /Audio/Weapons/Guns/MagIn/ltrifle_magin.ogg
          ejectSound: /Audio/Weapons/Guns/MagOut/ltrifle_magout.ogg
          priority: 2
          whitelist:
            tags:
              - SwarmerRocketsClip
    - type: SignalControl
      isOnByDefault: true
    - type: DeviceNetwork
      deviceNetId: Wireless
      receiveFrequencyId: BasicDevice
    - type: WirelessNetworkConnection
      range: 2500
    - type: DeviceLinkSink
      ports:
        - Toggle
        - On
        - Off
    - type: ApcPowerReceiver
      powerLoad: 4000
    - type: ExtensionCableReceiver
    - type: LightningTarget
      priority: 1
    - type: MouseRotator
      angleTolerance: 5
      rotationSpeed: 180
      simple4DirMode: false
    - type: NoRotateOnInteract
    - type: NoRotateOnMove
    - type: Input
      context: "human"
    - type: MobState
    - type: Anchorable
      delay: 10
    - type: HardpointAnchorableOnly
      class: Missile
      size: Medium

# magwell

- type: entity
  parent: BaseStructure
  id: BaseWeaponTurretMagwell
  name: SHI 180mm "Magwell" torpedo launcher
  description: A small torpedo launcher that fires cheaply-manufactured, heat-seeking projectiles.
  components:
    - type: PointCannon
    - type: Clickable
    - type: InteractionOutline
    - type: Actions
    - type: Fixtures
      fixtures:
        fix1:
          shape:
            !type:PhysShapeAabb
            bounds: "-0.45,-0.45,0.45,0.45"
          density: 60
          mask:
            - MachineMask
          layer:
            - MachineLayer
    - type: ContainerContainer
      containers:
        ballistic-ammo: !type:Container
    - type: Sprite
      sprite: _Crescent/Objects/Autoturrets/magwell.rsi
      drawdepth: Mobs
      layers:
      - state: base
      - state: mag-1
      map: ["enum.GunVisualLayers.Mag"]
    - type: WorldLoader
      radius: 256
    - type: CombatMode
      toggleMouseRotator: false
    - type: Damageable
      damageContainer: Inorganic
    - type: TurretIFF
    - type: Destructible
      thresholds:
        - trigger:
            !type:DamageTrigger
            damage: 800
          behaviors:
            - !type:DoActsBehavior
              acts: [ "Destruction" ]
        - trigger:
            !type:DamageTrigger
            damage: 500
          # TODO: Construction graph
          behaviors:
            - !type:DoActsBehavior
              acts: [ "Destruction" ]
            - !type:PlaySoundBehavior
              sound:
                collection: MetalGlassBreak
            - !type:SpawnEntitiesBehavior
              spawn:
                SheetSteel1:
                  min: 3
                  max: 5
    - type: Gun
      projectileSpeed: 30
      fireRate: 0.5
      selectedMode: FullAuto
      availableModes:
        - FullAuto
      soundGunshot: /Audio/Weapons/Guns/Gunshots/rpgfire.ogg
    - type: BallisticAmmoProvider
      whitelist:
        tags:
          - Torpedo
      capacity: 6
      soundInsert:
        path: /Audio/Weapons/Guns/MagIn/batrifle_magin.ogg
    - type: SignalControl
      isOnByDefault: true
    - type: DeviceNetwork
      deviceNetId: Wireless
      receiveFrequencyId: BasicDevice
    - type: WirelessNetworkConnection
      range: 2500
    - type: DeviceLinkSink
      ports:
        - Toggle
        - On
        - Off
    - type: ApcPowerReceiver
      powerLoad: 4000
    - type: ExtensionCableReceiver
    - type: LightningTarget
      priority: 1
    - type: MouseRotator
      angleTolerance: 5
      rotationSpeed: 180
      simple4DirMode: false
    - type: NoRotateOnInteract
    - type: NoRotateOnMove
    - type: Input
      context: "human"
    - type: MobState
    - type: Anchorable
      delay: 10
    - type: HardpointAnchorableOnly
      class: Missile
      size: Small
    - type: MagazineVisuals
      magState: mag
      steps: 2

#slugspitter

- type: entity
  parent: BaseStructure
  id: BaseWeaponTurretSlugspitter
  name: SHI 43mm "Hullpiercer" slugspitter
  description: A low-tech alternative to the sophisticated Needler turrets. Easy to maintain, produce, and fire. Suffers from overheating issues and frequent jamming, though.
  components:
    - type: PointCannon
    - type: Clickable
    - type: InteractionOutline
    - type: Actions
    - type: Fixtures
      fixtures:
        fix1:
          shape:
            !type:PhysShapeAabb
            bounds: "-0.45,-0.45,0.45,0.45"
          density: 60
          mask:
            - MachineMask
          layer:
            - MachineLayer
    - type: Sprite
      sprite: _Crescent/Objects/Autoturrets/slugspitter.rsi
      drawdepth: Mobs
      layers:
        - state: slugspitter
    - type: WorldLoader
      radius: 256
    - type: CombatMode
      toggleMouseRotator: false
    - type: Damageable
      damageContainer: Inorganic
    - type: TurretIFF
    - type: Destructible
      thresholds:
        - trigger:
            !type:DamageTrigger
            damage: 800
          behaviors:
            - !type:DoActsBehavior
              acts: [ "Destruction" ]
        - trigger:
            !type:DamageTrigger
            damage: 500
          # TODO: Construction graph
          behaviors:
            - !type:DoActsBehavior
              acts: [ "Destruction" ]
            - !type:PlaySoundBehavior
              sound:
                collection: MetalGlassBreak
            - !type:SpawnEntitiesBehavior
              spawn:
                SheetSteel1:
                  min: 3
                  max: 5
    - type: Gun
      fireRate: 3
      projectileSpeed: 80
      soundGunshot:
        path: /Audio/Weapons/Guns/Gunshots/50cal.ogg
      soundEmpty:
        path: /Audio/Weapons/Guns/Empty/lmg_empty.ogg
      angleDecay: 45
      minAngle: 5
      maxAngle: 15
    - type: MagazineAmmoProvider
    - type: ItemSlots
      slots:
        gun_magazine:
          name: Magazine
          startingItem: MagazineLightRifleBoxSlug
          insertSound: /Audio/Weapons/Guns/MagIn/ltrifle_magin.ogg
          ejectSound: /Audio/Weapons/Guns/MagOut/ltrifle_magout.ogg
          priority: 2
          whitelist:
          tags:
              - SlugthrowerCartridgeBox
    - type: ContainerContainer
      containers:
        ballistic-ammo: !type:Container
          ents: []
    - type: SignalControl
      isOnByDefault: true
    - type: DeviceNetwork
      deviceNetId: Wireless
      receiveFrequencyId: BasicDevice
    - type: WirelessNetworkConnection
      range: 2500
    - type: DeviceLinkSink
      ports:
        - Toggle
        - On
        - Off
    - type: ApcPowerReceiver
      powerLoad: 4000
    - type: ExtensionCableReceiver
    - type: LightningTarget
      priority: 1
    - type: MouseRotator
      angleTolerance: 5
      rotationSpeed: 180
      simple4DirMode: false
    - type: NoRotateOnInteract
    - type: NoRotateOnMove
    - type: Input
      context: "human"
    - type: MobState
    - type: Anchorable
      delay: 10
    - type: HardpointAnchorableOnly
      class: Ballistic
      size: Medium

#regent

- type: entity
  parent: BaseStructure
  id: FlakCannonRegent
  name: NT 88mm 'Regent' flak-screen turret
  description: A flak-screen turret recovered and fabricated with Abyssal materials and designed according to old NanoTrasen schematics. Fires a trio of explosive slugs and uses surrounding trace exotic matter in space to manufacture it's own ammunition.
  components:
    - type: PointCannon
    - type: Clickable
    - type: InteractionOutline
    - type: Actions
    - type: Fixtures
      fixtures:
        fix1:
          shape:
            !type:PhysShapeAabb
            bounds: "-0.45,-0.45,0.45,0.45"
          density: 60
          mask:
            - MachineMask
          layer:
            - MachineLayer
    - type: Sprite
      sprite: _Crescent/Objects/Autoturrets/regent.rsi
      drawdepth: Mobs
      layers:
        - state: regent
    - type: WorldLoader
      radius: 256
    - type: CombatMode
      toggleMouseRotator: false
    - type: TurretIFF
    - type: Damageable
      damageContainer: Inorganic
    - type: Destructible
      thresholds:
        - trigger:
            !type:DamageTrigger
            damage: 1600
          behaviors:
            - !type:DoActsBehavior
              acts: [ "Destruction" ]
        - trigger:
            !type:DamageTrigger
            damage: 1600
          # TODO: Construction graph
          behaviors:
            - !type:DoActsBehavior
              acts: [ "Destruction" ]
            - !type:PlaySoundBehavior
              sound:
                collection: MetalGlassBreak
            - !type:SpawnEntitiesBehavior
              spawn:
                SheetSteel1:
                  min: 3
                  max: 5
    - type: ProjectileIFF
    - type: Gun
      projectileSpeed: 95
      fireRate: 0.6
      selectedMode: FullAuto
      availableModes:
        - FullAuto
      soundGunshot: /Audio/Weapons/Guns/Gunshots/needler.ogg
    - type: RechargeBasicEntityAmmo
      rechargeCooldown: 4
      rechargeSound:
        path: /Audio/Weapons/Guns/Bolt/lmg_bolt_closed.ogg
        params:
          pitch: 1.2
          variation: 0.08
    - type: BasicEntityAmmoProvider
      proto: FlakProjectileHE
      capacity: 6
      count: 10
    - type: ApcPowerReceiver
      powerLoad: 6500
    - type: ExtensionCableReceiver
    - type: LightningTarget
      priority: 1
    - type: MouseRotator
      angleTolerance: 5
      rotationSpeed: 180
      simple4DirMode: false
    - type: NoRotateOnInteract
    - type: NoRotateOnMove
    - type: Input
      context: "human"
    - type: MobState
    - type: Anchorable
      delay: 10
    - type: HardpointAnchorableOnly
      class: Ballistic
      size: Large

# snapdragon

- type: entity
  parent: BaseStructure
  id: MissilePodSnapdragon
  name: NT 'Snapdragon' SRM missile system
  description: A small short-range missile pod recovered and fabricated with Abyssal materials and designed according to old NanoTrasen schematics. Fires a blast of guided rockets and uses trace exotic matter in surrounding space to manufacture it's own ammunition.
  components:
    - type: PointCannon
    - type: Clickable
    - type: InteractionOutline
    - type: Actions
    - type: Fixtures
      fixtures:
        fix1:
          shape:
            !type:PhysShapeAabb
            bounds: "-0.45,-0.45,0.45,0.45"
          density: 60
          mask:
            - MachineMask
          layer:
            - MachineLayer
    - type: Sprite
      sprite: _Crescent/Objects/Autoturrets/regent.rsi
      drawdepth: Mobs
      layers:
        - state: regent
    - type: WorldLoader
      radius: 256
    - type: CombatMode
      toggleMouseRotator: false
    - type: TurretIFF
    - type: Damageable
      damageContainer: Inorganic
    - type: Destructible
      thresholds:
        - trigger:
            !type:DamageTrigger
            damage: 1600
          behaviors:
            - !type:DoActsBehavior
              acts: [ "Destruction" ]
        - trigger:
            !type:DamageTrigger
            damage: 1600
          # TODO: Construction graph
          behaviors:
            - !type:DoActsBehavior
              acts: [ "Destruction" ]
            - !type:PlaySoundBehavior
              sound:
                collection: MetalGlassBreak
            - !type:SpawnEntitiesBehavior
              spawn:
                SheetSteel1:
                  min: 3
                  max: 5
    - type: ProjectileIFF
    - type: Gun
      projectileSpeed: 95
      fireRate: 5
      selectedMode: FullAuto
      availableModes:
        - FullAuto
      soundGunshot: /Audio/Weapons/Guns/Gunshots/needler.ogg
    - type: RechargeBasicEntityAmmo
      rechargeCooldown: 4
      rechargeSound:
        path: /Audio/Weapons/Guns/Bolt/lmg_bolt_closed.ogg
        params:
          pitch: 1.2
          variation: 0.08
    - type: BasicEntityAmmoProvider
      proto: SwarmerRocketsGuided
      capacity: 20
      count: 10
    - type: ApcPowerReceiver
      powerLoad: 6500
    - type: ExtensionCableReceiver
    - type: LightningTarget
      priority: 1
    - type: MouseRotator
      angleTolerance: 5
      rotationSpeed: 180
      simple4DirMode: false
    - type: NoRotateOnInteract
    - type: NoRotateOnMove
    - type: Input
      context: "human"
    - type: MobState
    - type: Anchorable
      delay: 10
    - type: HardpointAnchorableOnly
      class: Missile
      size: Small

# komodo

- type: entity
  parent: BaseStructure
  id: BaseWeaponTurretKomodo
  name: NT 400c 'Komodo' chemical blaster
  description: A small laser pulser of antiquated NanoTrasen design, commonly found mounted on droneships or found as scrap in the Abyss. Uses ancient, outdated chemical mixes to create accelerated laser pulses, which are then flung as projectiles. Luckily for you, this one seems to be sourcing it's material from inert dark matter in the void around it.
  components:
    - type: PointCannon
    - type: Clickable
    - type: InteractionOutline
    - type: Actions
    - type: Fixtures
      fixtures:
        fix1:
          shape:
            !type:PhysShapeAabb
            bounds: "-0.45,-0.45,0.45,0.45"
          density: 60
          mask:
            - MachineMask
          layer:
            - MachineLayer
    - type: ContainerContainer
      containers:
        ballistic-ammo: !type:Container
    - type: Sprite
      sprite: _Crescent/Objects/Autoturrets/komodo.rsi
      drawdepth: Mobs
      layers:
        - state: komodo
    - type: WorldLoader
      radius: 256
    - type: CombatMode
      toggleMouseRotator: false
    - type: Damageable
      damageContainer: Inorganic
    - type: TurretIFF
    - type: Destructible
      thresholds:
        - trigger:
            !type:DamageTrigger
            damage: 800
          behaviors:
            - !type:DoActsBehavior
              acts: [ "Destruction" ]
        - trigger:
            !type:DamageTrigger
            damage: 500
          # TODO: Construction graph
          behaviors:
            - !type:DoActsBehavior
              acts: [ "Destruction" ]
            - !type:PlaySoundBehavior
              sound:
                collection: MetalGlassBreak
            - !type:SpawnEntitiesBehavior
              spawn:
                SheetSteel1:
                  min: 3
                  max: 5
    - type: Gun
      projectileSpeed: 95
      fireRate: 3
      selectedMode: FullAuto
      availableModes:
        - FullAuto
      soundGunshot: /Audio/Weapons/Guns/Gunshots/lasergatling.ogg
    - type: RechargeBasicEntityAmmo
      rechargeCooldown: 2
      rechargeSound:
        path: /Audio/Weapons/Guns/Bolt/lmg_bolt_closed.ogg
        params:
          pitch: 1.2
          variation: 0.08
    - type: BasicEntityAmmoProvider
      proto: BulletMachineGunPlasmaKomodo
      capacity: 20
      count: 10
    - type: SignalControl
      isOnByDefault: true
    - type: DeviceNetwork
      deviceNetId: Wireless
      receiveFrequencyId: BasicDevice
    - type: WirelessNetworkConnection
      range: 2500
    - type: DeviceLinkSink
      ports:
        - Toggle
        - On
        - Off
    - type: ApcPowerReceiver
      powerLoad: 3000
    - type: ExtensionCableReceiver
    - type: LightningTarget
      priority: 1
    - type: MouseRotator
      angleTolerance: 5
      rotationSpeed: 180
      simple4DirMode: false
    - type: NoRotateOnInteract
    - type: NoRotateOnMove
    - type: Input
      context: "human"
    - type: MobState
    - type: Anchorable
      delay: 10
    - type: HardpointAnchorableOnly
      class: Energy
      size: Small



